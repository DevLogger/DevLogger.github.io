<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>DevLog</title>
    <link>http://yoursite.com/</link>
    <atom:link href="/feed.xml" rel="self" type="application/rss+xml"/>
    
    <description></description>
    <pubDate>Sat, 19 Nov 2016 00:47:15 GMT</pubDate>
    <generator>http://hexo.io/</generator>
    
    <item>
      <title>TypeScript - Resolvendo o Duplicate Identifier Error</title>
      <link>http://yoursite.com/2016/11/16/TypesDuplicateIdentifier/</link>
      <guid>http://yoursite.com/2016/11/16/TypesDuplicateIdentifier/</guid>
      <pubDate>Thu, 17 Nov 2016 00:59:42 GMT</pubDate>
      <description>
      
        &lt;h1 id=&quot;TypeScript-Resolvendo-o-Duplicate-Identifier-Error&quot;&gt;&lt;a href=&quot;#TypeScript-Resolvendo-o-Duplicate-Identifier-Error&quot; class=&quot;headerlink&quot;
      
      </description>
      
      <content:encoded><![CDATA[<h1 id="TypeScript-Resolvendo-o-Duplicate-Identifier-Error"><a href="#TypeScript-Resolvendo-o-Duplicate-Identifier-Error" class="headerlink" title="TypeScript - Resolvendo o Duplicate Identifier Error"></a>TypeScript - Resolvendo o Duplicate Identifier Error</h1><p>Um dos problemas mais chatos que você pode encontrar quando for usar TypeScript é:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Duplicate identifier...</div></pre></td></tr></table></figure>
<p>ou </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">message TS4090: Conflicting definitions for...</div></pre></td></tr></table></figure>
<p>Isto acontece quando o compilador tenta carregar o mesmo módulo ou definição (.d.ts) mais de uma vez, identificando que este está duplicado. Quando se instala uma dependência via <strong><em>npm install</em></strong>, o <strong><em>npm</em></strong> já identifica se o módulo está baixado evitando duplicação, mas, se você esta usando módulos locais com <strong><em>npm link</em></strong>, é quase certo que terá este problema.</p>
<p>Este erro não impede que o JavaScript seja gerado, mas aqui pra nós, é muito chato ver milhares de erro no seu console quando mandamos executar ou compilar algo.</p>
<h2 id="Resolucao"><a href="#Resolucao" class="headerlink" title="Resolução"></a>Resolução</h2><h4 id="Atualize-a-versao-do-TypeScript"><a href="#Atualize-a-versao-do-TypeScript" class="headerlink" title="Atualize a versao do TypeScript"></a>Atualize a versao do TypeScript</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install typescript -g</div></pre></td></tr></table></figure>
<h4 id="Configuracao-do-compilador"><a href="#Configuracao-do-compilador" class="headerlink" title="Configuração do compilador"></a>Configuração do compilador</h4><p>Coloque esta configuração do seu <strong>tsconfig.json</strong>:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">"compilerOptions" &#123;</div><div class="line">     ....</div><div class="line">    "baseUrl": "./",</div><div class="line">    "paths": &#123;</div><div class="line">        "*": [ "node_modules/@types/*", "*"]</div><div class="line">    &#125;</div><div class="line">   ...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Isto informará ao compilador que quando ele for resolver um módulo qualquer, procure primeiro em  <code>.\node_modules\@types\</code> e so depois nos demais locais, evitando a duplicidade do carregamento.</p>
<h2 id="Referencias"><a href="#Referencias" class="headerlink" title="Referências"></a>Referências</h2><ul>
<li><a href="https://www.typescriptlang.org/docs/handbook/module-resolution.html" target="_blank" rel="external">https://www.typescriptlang.org/docs/handbook/module-resolution.html</a></li>
<li><a href="https://github.com/Microsoft/TypeScript/issues/11916#event-853609143" target="_blank" rel="external">https://github.com/Microsoft/TypeScript/issues/11916#event-853609143</a>   </li>
</ul>
<p><em>Obrigado <a href="https://github.com/mhegazy" target="_blank" rel="external">@mhegazy</a> pela dica!!</em></p>
]]></content:encoded>
      
      <comments>http://yoursite.com/2016/11/16/TypesDuplicateIdentifier/#disqus_thread</comments>
    </item>
    
    <item>
      <title>Crie sua API REST com ProtonType</title>
      <link>http://yoursite.com/2016/11/15/ProtonType/</link>
      <guid>http://yoursite.com/2016/11/15/ProtonType/</guid>
      <pubDate>Tue, 15 Nov 2016 17:22:30 GMT</pubDate>
      <description>
      
        &lt;h1 id=&quot;ProtonType&quot;&gt;&lt;a href=&quot;#ProtonType&quot; class=&quot;headerlink&quot; title=&quot;ProtonType&quot;&gt;&lt;/a&gt;ProtonType&lt;/h1&gt;&lt;p&gt;Um simples web framework feito em Type
      
      </description>
      
      <content:encoded><![CDATA[<h1 id="ProtonType"><a href="#ProtonType" class="headerlink" title="ProtonType"></a>ProtonType</h1><p>Um simples web framework feito em TypeScript.</p>
<p>O ProtonType tem como objetivo tornar simples e agradável o desensolvimento de APIs REST e criação de modelos de banco de dados. Utilizando <a href="http://expressjs.com/" target="_blank" rel="external">Express</a> e <a href="http://docs.sequelizejs.com/" target="_blank" rel="external">Sequelize ORM</a> ajuda na criação de aplicações web robustas.</p>
<h1 id="Configuracao-do-projeto-TypeScript"><a href="#Configuracao-do-projeto-TypeScript" class="headerlink" title="Configuração do projeto TypeScript"></a>Configuração do projeto TypeScript</h1><p>As seguintes configurações no <strong>tsconfig.json</strong> são necessárias para o<br>funcionamento.</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">&#123;</div><div class="line">  <span class="attr">"compilerOptions"</span>: &#123;</div><div class="line">    <span class="attr">"target"</span>: <span class="string">"es6"</span>,</div><div class="line">    <span class="attr">"module"</span>: <span class="string">"commonjs"</span>,</div><div class="line">    <span class="attr">"emitDecoratorMetadata"</span>: <span class="literal">true</span>,</div><div class="line">    <span class="attr">"experimentalDecorators"</span>: <span class="literal">true</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="Instalacao"><a href="#Instalacao" class="headerlink" title="Instalação"></a>Instalação</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">npm install protontype --save</div></pre></td></tr></table></figure>
<p><strong>Obs: será necessário ter instalado o NodeJS 6 ou maior</strong></p>
<h1 id="Quick-Start-Criando-uma-API-Completa-em-5-passos"><a href="#Quick-Start-Criando-uma-API-Completa-em-5-passos" class="headerlink" title="Quick Start - Criando uma API Completa em 5 passos"></a>Quick Start - Criando uma API Completa em 5 passos</h1><h2 id="Estrutura-de-pastas-e-configuracoes-iniciais"><a href="#Estrutura-de-pastas-e-configuracoes-iniciais" class="headerlink" title="Estrutura de pastas e configurações iniciais"></a>Estrutura de pastas e configurações iniciais</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">mkdir proton-quickstart</div><div class="line"><span class="built_in">cd</span> proton-quickstart</div><div class="line">npm init</div><div class="line">mkdir src</div><div class="line">npm install protontype --save</div></pre></td></tr></table></figure>
<p>Criar o arquivo tsconfig.json na raiz do projeto</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">&#123;</div><div class="line">  <span class="attr">"compilerOptions"</span>: &#123;</div><div class="line">    <span class="attr">"target"</span>: <span class="string">"es6"</span>,</div><div class="line">    <span class="attr">"module"</span>: <span class="string">"commonjs"</span>,</div><div class="line">    <span class="attr">"emitDecoratorMetadata"</span>: <span class="literal">true</span>,</div><div class="line">    <span class="attr">"experimentalDecorators"</span>: <span class="literal">true</span>,</div><div class="line">    <span class="attr">"outDir"</span>: <span class="string">"dist"</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">"exclude"</span>: [</div><div class="line">    <span class="string">"node_modules"</span>,</div><div class="line">    <span class="string">"dist"</span></div><div class="line">  ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Model"><a href="#Model" class="headerlink" title="Model"></a>Model</h2><p>Criar um arquivo ParticlesModel.ts</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">import</span> &#123; BaseModel, SequelizeBaseModelAttr, Model, DataTypes &#125; <span class="keyword">from</span> <span class="string">'protontype'</span>;</div><div class="line"></div><div class="line">@Model(&#123;</div><div class="line">    <span class="attr">name</span>: <span class="string">"Particles"</span>,</div><div class="line">    <span class="attr">definition</span>: &#123;</div><div class="line">        <span class="attr">name</span>: &#123;</div><div class="line">            <span class="attr">type</span>: DataTypes.STRING</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">symbol</span>: &#123;</div><div class="line">            <span class="attr">type</span>: DataTypes.STRING</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">mass</span>: &#123;</div><div class="line">            <span class="attr">type</span>: DataTypes.BIGINT</div><div class="line">        &#125;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;)</div><div class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">ParticlesModel</span> <span class="keyword">extends</span> <span class="title">BaseModel</span>&lt;<span class="title">Particle</span>&gt; </span>&#123;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">export</span> interface Particle extends SequelizeBaseModelAttr &#123;</div><div class="line">    <span class="attr">name</span>: string;</div><div class="line">    symbol: string;</div><div class="line">    mass: number;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Router"><a href="#Router" class="headerlink" title="Router"></a>Router</h2><p>Criar arquivo ParticlesRouter.ts</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">import</span> &#123; ParticlesModel &#125; <span class="keyword">from</span> <span class="string">'./ParticlesModel'</span>;</div><div class="line"><span class="keyword">import</span> &#123; BaseCrudRouter, RouterClass &#125; <span class="keyword">from</span> <span class="string">'protontype'</span>;</div><div class="line"></div><div class="line">@RouterClass(&#123;</div><div class="line">    <span class="attr">baseUrl</span>: <span class="string">'/particles'</span>,</div><div class="line">    <span class="attr">modelInstances</span>: [<span class="keyword">new</span> ParticlesModel()]</div><div class="line">&#125;)</div><div class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">ParticlesRouter</span> <span class="keyword">extends</span> <span class="title">BaseCrudRouter</span> </span>&#123;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Main"><a href="#Main" class="headerlink" title="Main"></a>Main</h2><p>Criar arquivo Main.ts</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">import</span> &#123; ParticlesRouter &#125; <span class="keyword">from</span> <span class="string">'./ParticlesRouter'</span>;</div><div class="line"><span class="keyword">import</span> &#123; ExpressApplication &#125; <span class="keyword">from</span> <span class="string">'protontype'</span>;</div><div class="line"></div><div class="line"><span class="keyword">new</span> ExpressApplication()</div><div class="line">    .addRouter(<span class="keyword">new</span> ParticlesRouter())</div><div class="line">    .bootstrap();</div></pre></td></tr></table></figure>
<p><strong>Compilando e Rodando Aplicação</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">tsc</div><div class="line">node dist/Main.ts</div></pre></td></tr></table></figure></p>
<h2 id="Testando-a-API"><a href="#Testando-a-API" class="headerlink" title="Testando a API"></a>Testando a API</h2><p>Por padrão, a aplicação usará um banco de dados sqlite.<br>Será criado um arquivo proton.sqlite na raiz do projeto.</p>
<p>Os endpoints abaixo já estarão disponíveis:</p>
<ul>
<li><strong>GET /particles</strong> - Lista todos os registos da tabela Particles</li>
<li><strong>POST /particles</strong> - Cria um registro na tabela Particles</li>
<li><strong>GET /particles/:id</strong> - Consulta um registro da tabela Particles</li>
<li><strong>PUT /particles/:id</strong> - Atualiza um registro da tabela Particles</li>
<li><strong>DELETE /particles/:id</strong> - Remove um registro da tabela Particles</li>
</ul>
<p>Poderá testar através do app <a href="https://www.getpostman.com/" target="_blank" rel="external">Postman</a> ou outro da sua preferência.</p>
<p><strong>Código completo do quick start</strong></p>
<p><a href="https://github.com/linck/proton-quickstart" target="_blank" rel="external">https://github.com/linck/proton-quickstart</a></p>
<p><strong>Exemplo de uso completo</strong></p>
<p><a href="https://github.com/linck/protontype-example" target="_blank" rel="external">https://github.com/linck/protontype-example</a></p>
<p><strong>Projeto e guia completo*</strong><br><a href="https://github.com/linck/protontype" target="_blank" rel="external">https://github.com/linck/protontype</a></p>
]]></content:encoded>
      
      <comments>http://yoursite.com/2016/11/15/ProtonType/#disqus_thread</comments>
    </item>
    
  </channel>
</rss>
